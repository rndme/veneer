/**  veneer.js custom html tag definition
 {
	tagName: 'veneer-bs',
	version: '1.0.0', tags: 'native',
	purpose: 'provides bootstrap widgets.',

	attribs: { },
	events:  [ 'update' ]
 }
**/

//////////////////////////////////////////////
 
 veneer("veneer-bs", {
	events: { 
		insert: function(e){ 
document.body.appendChild(veneer.elm("div")).innerHTML="<!-- veneer element definition --> \n <veneer-element name=\"bs-accord\" >\n \n\t<template>\n\t\t\n\t\t<div class=\"panel-group\" id=\"{{id}}\">\n\t\t\t{{content}}\t\t\t\n\t\t</div>\n\t\t\n\t\t\n\t\t\n\t\t<veneer-loader>\n\t\t\thttp://getbootstrap.com/dist/css/bootstrap.min.css\n\t\t\thttps://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\n\t\t\thttp://getbootstrap.com/dist/js/bootstrap.min.js#jquery.min.js\n\t\t</veneer-loader>\n\t</template>\n\n\n\t<style>\n\t\n\t\t\n\t</style>\n\t\t\t\n\t<script type=shadow>\n\t\n\t\t\t\t\n\t\t\t\t\n\t\tvar elm=e.target;\n\n\t\t\n\t\t\n\t\tif(!elm._html) return;\n\t\t//boot up a clone of old contents to rake into new contents\n\t\tvar clone=veneer.elm(\"div\");\n\t\tclone.innerHTML=elm._html;\n\n\t\tvar kids=veneer._(clone.children);\n\t\tkids.map(function(item, index){ //translate direct child elms with titles to full on panels with divitus:\n\t\t\t\n  \t\t\t\tvar div=veneer.elm(\"div\", {\"class\":\"panel panel-default\"}),\n\t\t\t\thd=div.appendChild(veneer.elm(\"div\", {\"class\":\"panel-heading\"})),\n\t\t\t\th4=hd.appendChild(veneer.elm(\"h4\", {\"class\":\"panel-title\"})),\n\t\t\t\tmyId=\"collapse\"+index,\n\t\t\t\ta=h4.appendChild(veneer.elm(\"a\", {\n\t\t\t\t\t\t\"data-toggle\":\"collapse\",\n\t\t\t\t\t\t\"data-parent\":\"#\"+elm.id,\n\t\t\t\t\t\t\"href\":\t\"#\"+myId\n\t\t\t\t}, item.title ));\n\t\t\t\t\n\t\t\t\titem.title=\"\";\t\t\t\t\n\t\t\t\tvar box=div.appendChild(veneer.elm(\"div\", {id: myId, \"class\":\"panel-collapse\"})),\n\t\t\t\tcont=box.appendChild(veneer.elm(\"div\", {\"class\":\"panel-body\"}, item.outerHTML ));\n\t\t\t\t\n\t\t\t\tif(index==0){ \n\t\t\t\t\tbox.className+=\" collapse in\"; \n\t\t\t\t}else{\n\t\t\t\t  box.className+=\" collapse\";\t\t\t\t \n\t\t\t\t}\n\t\n\t\t\t\t\n\t\t\t\titem.parentNode.insertBefore(div, item);\t\t\t\t\n\t\t\t\titem.remove();\n\t\t});\n\t\t\n\t\telm.innerHTML=veneer.template({\n\t\t\tid: \telm.id,\n\t\t\tcontent: clone.innerHTML\n\t\t} , elm.innerHTML );\n\t\t\n\t\telm.removeAttribute(\"id\"); \n\t</script>\n\n </veneer-element>\n <!-- veneer element definition --> \n <veneer-element name=\"bs-carousel\" >\n \n\t<template>\n\t\t\n\t\t<div id=\"{{id}}\" class=\"carousel slide\" data-ride=\"carousel\">\n\t\t\t<!-- Indicators -->\n\t\t\t<ol class=\"carousel-indicators\">\n\t\t\t\t<li data-target=\"#{{id}}\" data-slide-to=\"0\" class=\"active\"></li>\n\t\t\t\t<li data-target=\"#{{id}}\" data-slide-to=\"1\"></li>\n\t\t\t\t<li data-target=\"#{{id}}\" data-slide-to=\"2\"></li>\n\t\t\t</ol>\n\t\t\t\n\t\t\t<!-- Wrapper for slides -->\n\t\t\t<div class=\"carousel-inner\">\n\t\t\t\t{{content}}\t\t\t\t\n\t\t\t</div>\n\t\t\t\n\t\t\t<!-- Controls -->\n\t\t\t<a class=\"left carousel-control\" href=\"#carousel-example-generic\" role=\"button\" data-slide=\"prev\">\n\t\t\t\t<i  class=\"fa fa-angle-double-left fa-5x\"></i>\n\t\t\t</a>\n\t\t\t<a class=\"right carousel-control\" href=\"#carousel-example-generic\" role=\"button\" data-slide=\"next\">\n\t\t\t\t<i class=\"fa fa-angle-double-right fa-5x \"></i>\n\t\t\t</a>\n\t\t</div>\n\t\t\n\t\t\n\t\t<veneer-loader>\n\t\t\thttp://getbootstrap.com/dist/css/bootstrap.min.css\n\t\t\t//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css\n\t\t\thttps://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\n\t\t\thttp://getbootstrap.com/dist/js/bootstrap.min.js#jquery.min.js\n\t\t</veneer-loader>\n\t</template>\n\n\n\t<style>\n\t\n\t\t.carousel-control:focus, .carousel-control:hover { opacity: 1; }\n\t\t.carousel-control{ /*position: relative; */ opacity: 0.7; }\n\t\t\n\t\t.carousel-control i {\n\t\t\tposition: absolute;\n\t\t\ttop: 40%;\n\t\t\tz-index: 5;\n\t\t\tdisplay: inline-block;\n\t\t}\n\t\t\n\t\t.carousel-control.left { text-align: left;}\n\t</style>\n\t\t\t\n\t<script type=shadow>\n\t\tvar elm=e.target;\n\n\t\tif(!elm._html) return;\n\t\t//boot up a clone of old contents to rake into new contents\n\t\tvar clone=veneer.elm(\"div\",{}, elm._html);\n\t\t\n\n\t\tvar kids=veneer._(clone.children);\n\t\tkids.map(function(item, index){\n\t\t\n\t\t\t\tvar div=veneer.elm(\"div\", {\"class\":\"item \" + (index ? \"\" : \" active\")}, item.outerHTML),\n\t\t\t\tcap=veneer.elm(\"div\", {\"class\":\"carousel-caption\"}, item.title);\n\n\t\t\t\tif(item.title){ div.appendChild(cap); }\n\t\t\t\tdiv.children[0].title=\"\";\n\t\t\t\titem.parentNode.insertBefore(div, item);\n\t\t\t\titem.remove();\n\t\t});\n\t\t\n\t\telm.innerHTML=veneer.template({\n\t\t\tid: \telm.id,\n\t\t\tcontent: clone.innerHTML\n\t\t} , elm.innerHTML );\n\t\t\n\t\telm.removeAttribute(\"id\"); \n\t</script>\n\n </veneer-element>\n <!-- veneer element definition --> \n <veneer-element name=\"bs-modal\" >\n \n\t<template>\n\t\t<div class=\"modal fade\" id=\"{{id}}\">\n\t\t\t<div class=\"modal-dialog\">\n\t\t\t\t<div class=\"modal-content\">\n\t\t\t\t\t<div class=\"modal-header\">\n\t\t\t\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\"><span aria-hidden=\"true\">&times;</span>\n\t\t\t\t\t\t<span class=\"sr-only\">Close</span></button>\n\t\t\t\t\t\t<h4 class=\"modal-title\">{{header}}</h4>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"modal-body\">\n\t\t\t\t\t\t{{description}}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"modal-footer\">\n\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">Close</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div><!-- /.modal-content -->\n\t\t\t</div><!-- /.modal-dialog -->\n\t\t</div><!-- /.modal -->\t\t\n\t\t\n\t\t<veneer-loader>\n\t\t\thttps://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\n\t\t\thttp://getbootstrap.com/dist/css/bootstrap.min.css\n\t\t\thttp://getbootstrap.com/dist/js/bootstrap.min.js#jquery.min.js\n\t\t</veneer-loader>\n\t</template>\n\n\n\t<style>\n\t\tbs-modal {background:red;} /* for spotting errors, should never show up */ \n\t\t.modal-header { background: #ddd; }\n\t\t.modal-body { background: #eee; }\n\t\tbs-modal [data-dismiss=\"modal\"] { background: tomato; }\n\t</style>\n\t\t\t\n\t<script type=shadow>\n\t\tvar elm=e.target;\n\n\t\telm.innerHTML=veneer.template({\n\t\t\tid: \telm.id,  \n\t\t\theader: elm.title ,\n\t\t\tdescription:elm._html\n\t\t} , elm.innerHTML );\n\t\telm.parentNode.appendChild(elm.children[0]).children[0].className+=\" \"+(elm.className||\"\");\n\t\telm.removeAttribute(\"id\"); \n\t</script>\n\n </veneer-element><!-- veneer element definition --> \n <veneer-element name=\"bs-tabs\" >\n \n\t<template>\n\t\t\n\t\t\n\t\t\t{{content}}\t\t\t\n\t\t\n\t\t\n\t\t<veneer-loader>\n\t\t\thttp://getbootstrap.com/dist/css/bootstrap.min.css\n\t\t\thttps://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\n\t\t\thttp://getbootstrap.com/dist/js/bootstrap.min.js#jquery.min.js\n\t\t</veneer-loader>\n\t</template>\n\n\n\t<style>\n\t\n\t\t.tabs { position: relative; opacity: 0.7; }\n\t\t\n\t</style>\n\t\t\t\n\t<script type=shadow>\n\t\n\t\t\t\t\n\t\t\t\t\n\t\tvar elm=e.target;\n\t\tvar isFade=elm.hasAttribute(\"fade\");\n\t\t\n\t\t\n\t\tif(!elm._html) return;\n\t\t//boot up a clone of old contents to rake into new contents\n\t\tvar clone=veneer.elm(\"div\");\n\t\tclone.innerHTML=elm._html;\n\n\t\tvar kids=veneer._(clone.children),\n\t\titems= kids.map(function(item, index){ //translate direct child elms with titles to full on panels with divitus:\n\t\t\tvar title=item.title;\n\t\t\titem.title=\"\";\n\t\t\t\n\t\t\treturn {name:  title, content: item.outerHTML }\n\t\t});\t\n\n\t\tclone.innerHTML=\"\";\n\t\tvar hd=veneer.elm(\"ul\", {\"class\":\"nav nav-tabs\", role: \"tablist\" });\n\t\tvar bd=veneer.elm(\"div\", {\"class\":\"tab-content\"});\n\t\t\n\t\t\n\t\tclone.appendChild(hd);\n\t\tclone.appendChild(bd);\n\t\t\n\t\t\n\t\t\n\t\titems.map(function(item, index){\n\t\t\tvar safeName=String(item.name).replace(/\\W/g,\"\")+\"_\"+Math.random().toString(36).slice(-5);\n\t\t\tvar li=hd.appendChild(veneer.elm(\"li\", {\n\t\t\t\t\"class\": index ? \"\" : \"active\",\n\t\t\t}));\n\t\t\tli.appendChild(veneer.elm(\"a\", {\n\t\t\t\thref: \"#\"+safeName,\n\t\t\t\trole: \"tab\",\n\t\t\t\t\"data-toggle\": \"tab\"\n\t\t\t}, item.name));\n\t\t\n\t\t\tvar dv=bd.appendChild(veneer.elm(\"div\", {\n\t\t\t\t\"class\": index ? \"tab-pane\" : \" tab-pane active\",\n\t\t\t\tid: safeName\t\t\t\t\n\t\t\t}, item.content ));\n\t\t\t\n\t\t\tif(isFade){\n\t\t\t\tdv.className+=\" fade\";\n\t\t\t\tif(!index){dv.className+=\" in\";}\n\t\t\t}\n\t\t\t\n\t\t\n\t\t\n\t\t\n\t\t});\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\telm.innerHTML=veneer.template({\n\t\t\tid: \telm.id,\n\t\t\tcontent: clone.innerHTML\n\t\t} , elm.innerHTML );\n\t\telm.parentElement.parentNode.appendChild(elm);\n\t\telm.removeAttribute(\"id\"); \n\t</script>\n\n </veneer-element>";		}
	},
	props:{}
  });
  


  