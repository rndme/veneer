<!-- veneer element definition --> 
 <veneer-element name="bs-carousel" >
 
	<template>
		
		<div id="{{id}}" class="carousel slide" data-ride="carousel">
			<!-- Indicators -->
			<ol class="carousel-indicators">
				<li data-target="#{{id}}" data-slide-to="0" class="active"></li>
				<li data-target="#{{id}}" data-slide-to="1"></li>
				<li data-target="#{{id}}" data-slide-to="2"></li>
			</ol>
			
			<!-- Wrapper for slides -->
			<div class="carousel-inner">
				{{content}}				
			</div>
			
			<!-- Controls -->
			<a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
				<i  class="fa fa-angle-double-left fa-5x"></i>
			</a>
			<a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
				<i class="fa fa-angle-double-right fa-5x "></i>
			</a>
		</div>
		
		
		<veneer-loader>
			http://getbootstrap.com/dist/css/bootstrap.min.css
			//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css
			https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js
			http://getbootstrap.com/dist/js/bootstrap.min.js
		</veneer-loader>
	</template>


	<style>
	
		.carousel-control:focus, .carousel-control:hover { opacity: 1; }
		.carousel-control{ /*position: relative; */ opacity: 0.7; }
		
		.carousel-control i {
			position: absolute;
			top: 40%;
			z-index: 5;
			display: inline-block;
		}
		
		.carousel-control.left { text-align: left;}
	</style>
			
	<script type=shadow>
		var elm=e.target;

		if(!elm._html) return;
		//boot up a clone of old contents to rake into new contents
		var clone=veneer.elm("div",{}, elm._html);
		

		var kids=veneer._(clone.children);
		kids.map(function(item, index){
		
				var div=veneer.elm("div", {"class":"item " + (index ? "" : " active")}, item.outerHTML),
				cap=veneer.elm("div", {"class":"carousel-caption"}, item.title);

				if(item.title){ div.appendChild(cap); }
				div.children[0].title="";
				item.parentNode.insertBefore(div, item);
				item.remove();
		});
		
		elm.innerHTML=veneer.template({
			id: 	elm.id,
			content: clone.innerHTML
		} , elm.innerHTML );
		
		elm.removeAttribute("id"); 
	</script>

 </veneer-element>
 